// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
  repositories {
    google()
    mavenCentral()
  }
  dependencies {
    classpath('com.android.tools.build:gradle')
    classpath('com.facebook.react:react-native-gradle-plugin')
    classpath('org.jetbrains.kotlin:kotlin-gradle-plugin')
  }
}

allprojects {
  repositories {
    google()
    mavenCentral()
    maven { url 'https://www.jitpack.io' }
  }
}

// Global JVM compatibility configuration for all modules
subprojects {
  afterEvaluate {
    def android = extensions.findByName("android")
    if (android != null) {
      // Ensure Java compilation target is 17
      android.compileOptions {
        sourceCompatibility JavaVersion.VERSION_17
        targetCompatibility JavaVersion.VERSION_17
      }
      
      // Try to set Kotlin JVM target to match if Kotlin is available
      try {
        android.kotlinOptions {
          jvmTarget = '17'
        }
      } catch (Exception e) {
        // If kotlinOptions is not available, skip
      }
    }
  }
}

apply plugin: "expo-root-project"
apply plugin: "com.facebook.react.rootproject"
